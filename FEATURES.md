# 📊 StockDashboard - 완벽한 주식 분석 플랫폼

## 🎯 프로젝트 개요

한국투자증권 모의투자 API를 활용한 전문 주식 분석 및 거래 플랫폼입니다.  
StockEasy 스타일의 사용자 인터페이스로 실시간 주가, 고급 기술분석, 포트폴리오 관리를 제공합니다.

---

## ✨ 주요 기능

### 1️⃣ **실시간 주가 대시보드**
- KOSPI/KOSDAQ 지수 실시간 업데이트
- 업종별 종목 선택 (IT, 금융, 자동차, 화학 등)
- 종목별 상세 정보 (현재가, 변동률, 거래량, 52주 범위)
- 실시간 차트 (최근 30개 데이터 포인트)

### 2️⃣ **기술 분석 지표**
- **이동평균**: SMA(Simple Moving Average), EMA(Exponential Moving Average)
- **모멘텀 지표**: RSI(Relative Strength Index)
- **추세 지표**: MACD(Moving Average Convergence Divergence)
- **변동성 지표**: Bollinger Bands
- **선진 지표**: ATR(Average True Range), Stochastic, CCI(Commodity Channel Index)

### 3️⃣ **고급 차트 분석**
- Recharts 기반 대화형 차트
- 선택적 기술 지표 오버레이
- 시간 프레임 선택 (일, 주, 월)
- 향상된 시각화 및 인터랙션

### 4️⃣ **캔들스틱 차트**
- OHLC(시가, 고가, 저가, 종가) 데이터 시각화
- 상승/하강 캔들 색상 구분
- 가격 범위 및 변동성 표시

### 5️⃣ **백테스팅 엔진**
- 3가지 전략 구현
  - **SMA 교차 (20/50)**: 단기/중기 이동평균 교차
  - **RSI 역추적**: 과매도/과매수 신호
  - **볼린저 밴드**: 밴드 터치 신호
- 성능 지표
  - 총 수익률
  - 승률
  - Sharpe Ratio
  - 최대 낙폭 (Maximum Drawdown)
  - 거래 내역 상세 기록

### 6️⃣ **주가 예측**
- 3가지 예측 모델
  - **선형 회귀**: 추세 기반 예측
  - **지수 평활**: 최근 데이터 가중
  - **이동평균**: 평균 가격 추세
- 신뢰도 점수 표시
- 5일 예측 기간

### 7️⃣ **시장 심리 분석**
- 모멘텀 (5일 변동 추적)
- 변동성 (20일 표준편차)
- 심리 점수 (강한 상승/하락 판단)

### 8️⃣ **실시간 가격 알림**
- 가격 레벨 알림 (이상/이하)
- 변동률 기반 알림 (%)
- 토스트 알림 UI
- 알림 관리 대시보드

### 9️⃣ **포트폴리오 분석**
- **다양성 점수**: Herfindahl Index 기반
- **집중도 분석**: 상위 3개 종목 비중
- **베타값**: 시장 연동성
- **시나리오 분석**: 약세장/강세장 시뮬레이션
- **구성 비중**: 보유 종목별 비중 시각화

### 🔟 **주문 거래**
- 매수/매도 모달
- 수량 및 가격 입력
- 수수료 자동 계산 (0.15%)
- 거래 내역 관리

### 1️⃣1️⃣ **포트폴리오 관리**
- 보유 종목 목록
- 총 투자액, 현재 평가액, 손익
- 개별 종목별 손익률
- 실시간 잔액 조회

---

## 🏗️ 기술 스택

### 프론트엔드
- **React 18+** - UI 라이브러리
- **Vite** - 빠른 빌드 도구
- **Recharts** - 데이터 시각화 (차트/그래프)
- **CSS-in-JS** - 스타일링

### 백엔드
- **Node.js + Express** - API 프록시 서버
- **Axios** - HTTP 클라이언트
- **한국투자증권 API** - 실시간 주가 데이터

### 데이터 분석
- **기술 지표 계산**: 순수 JavaScript 구현
- **백테스팅 엔진**: 포트폴리오 시뮬레이션
- **주가 예측**: 통계 기반 모델

---

## 📂 프로젝트 구조

```
stock-dashboard/
├── src/
│   ├── pages/
│   │   ├── Dashboard.jsx           # 메인 대시보드
│   │   └── AdvancedAnalysis.jsx    # 고급 분석 페이지
│   ├── components/
│   │   ├── Header.jsx              # 지수 표시
│   │   ├── LeftSidebar.jsx         # 업종/종목 선택
│   │   ├── MainContent.jsx         # 종목 상세 정보
│   │   ├── RightPanel.jsx          # 뉴스/관련 종목
│   │   ├── Portfolio.jsx           # 포트폴리오
│   │   ├── OrderModal.jsx          # 주문 폼
│   │   ├── AdvancedChart.jsx       # 기술 분석 차트
│   │   ├── CandlestickChart.jsx    # 캔들스틱
│   │   ├── BacktestingPanel.jsx    # 백테스팅
│   │   ├── PricePredictionPanel.jsx # 가격 예측
│   │   ├── PortfolioAnalysis.jsx   # 포트폴리오 분석
│   │   ├── AlertManager.jsx        # 가격 알림
│   │   └── StockChart.jsx          # 기본 차트
│   ├── utils/
│   │   ├── technicalIndicators.js  # 기술 지표 함수들
│   │   ├── backtesting.js          # 백테스팅 엔진
│   │   └── pricePredictor.js       # 주가 예측 모델
│   ├── App.jsx
│   ├── index.css                   # 반응형 스타일
│   └── main.jsx
├── server.cjs                      # Express API 프록시
├── vite.config.js                  # 번들 최적화 설정
├── package.json
└── dist/                           # 프로덕션 빌드
```

---

## 🚀 실행 방법

### 설치
```bash
cd stock-dashboard
npm install
```

### 개발 모드
```bash
npm run dev:full  # 프론트엔드 + 백엔드 동시 실행
```

### 프로덕션 빌드
```bash
npm run build     # 최적화된 번들 생성
npm run preview   # 로컬 프리뷰
```

### 실행 중인 서버
- **프론트엔드**: http://localhost:5185/
- **백엔드 API**: http://localhost:3000/

---

## 📊 API 엔드포인트

```
✅ GET  /api/indices                    → KOSPI/KOSDAQ 지수
✅ GET  /api/sectors/:sector            → 업종별 상위 종목
✅ GET  /api/stock/price/:code          → 개별 종목 시세
✅ GET  /api/stock/hoga/:code           → 호가 정보
✅ POST /api/order/buy                  → 매수 주문
✅ POST /api/order/sell                 → 매도 주문
✅ GET  /api/portfolio/balance          → 포트폴리오 조회
✅ GET  /api/orders/history             → 거래 내역
✅ GET  /api/stocks/search?name=...     → 종목 검색
✅ GET  /api/stocks/limit-up?date=...   → 상한가 조회
```

---

## 📱 반응형 디자인

- **데스크톱**: 3컬럼 레이아웃 (좌측 네비, 중앙 콘텐츠, 우측 뉴스)
- **태블릿 (1024px)**: 축약된 레이아웃
- **모바일 (768px)**: 단일 컬럼 레이아웃
- **초소형 (480px)**: 극도로 축소된 UI

---

## 🔐 보안 및 성능

- 환경 변수 기반 API 키 관리 (`.env.local`)
- 토큰 캐싱 및 자동 갱신
- 청크 분할을 통한 번들 최적화
- Lazy loading 지원 (고급 분석 페이지)
- CORS 정책 준수

---

## 🎨 UI/UX 특징

- **다크 테마**: 눈 피로 감소, 전문적 외관
- **색상 코딩**:
  - 🔴 상승: #ff4757
  - 🔵 하락: #1e90ff
  - 🟢 긍정: #00ff00
  - 🟡 경고: #ffaa00
- **대화형 차트**: 마우스 호버 시 상세 정보
- **토스트 알림**: 우상단 알림 UI
- **부드러운 애니메이션**: 0.2-0.3초 트랜지션

---

## 💡 주요 특징

### 고급 기술 분석
- 10가지 이상의 기술 지표 동시 계산
- 선택적 지표 표시로 차트 가독성 향상
- 실시간 데이터 기반 동적 계산

### 백테스팅
- 3가지 검증된 거래 전략
- 거래 내역 상세 기록
- Sharpe Ratio로 리스크 조정 수익률 분석
- Maximum Drawdown으로 최대 손실 추적

### 주가 예측
- 3가지 예측 모델 비교 분석
- 신뢰도 점수로 예측 가능성 표시
- 시장 심리 지표 포함

### 포트폴리오 관리
- 다양성 점수로 포트폴리오 건강성 평가
- 시나리오 분석으로 리스크 시뮬레이션
- 실시간 자산 추적

---

## 🔄 데이터 갱신 주기

- **지수**: 5초
- **종목 시세**: 3초
- **포트폴리오**: 10초
- **차트**: 실시간

---

## 📊 지표별 계산 방식

| 지표 | 계산 방식 | 해석 |
|------|---------|------|
| RSI | 14일 이동 평균 | 70↑: 과매수, 30↓: 과매도 |
| MACD | 12-26일 EMA 차이 | 양수: 매수, 음수: 매도 |
| 볼린저 밴드 | 20일 SMA ± 2σ | 밴드 터치 시 반전 신호 |
| Sharpe Ratio | (수익률 - 무위험율) / 변동성 | 1.0↑: 우수, 0↓: 부실 |
| Maximum Drawdown | 최고점에서 최저점까지 낙폭 | 작을수록 안정적 |

---

## 🎯 사용 사례

1. **데이일 트레이더**
   - 고급 차트 및 기술 지표로 단기 트렌드 분석
   - 백테스팅으로 전략 검증

2. **장기 투자자**
   - 포트폴리오 다양성 평가
   - 시나리오 분석으로 리스크 관리

3. **분석가**
   - 거래 신호 자동 감지
   - 주가 예측 모델 비교

4. **초보 투자자**
   - 직관적인 UI로 기본 개념 학습
   - 모의 거래로 실전 경험

---

## 🚀 향후 개선 계획

- [ ] 실제 머신러닝 모델 (LSTM) 통합
- [ ] 실시간 뉴스 API 연동
- [ ] 고급 주문 타입 (지정가, 조건부 주문)
- [ ] 포트폴리오 자동 리밸런싱
- [ ] 모바일 앱 (React Native)
- [ ] 멀티 데이터 소스 지원
- [ ] 사용자 설정 저장 (로그인)
- [ ] 실시간 협업 분석

---

## 📄 라이센스

MIT License - 자유롭게 사용, 수정, 배포 가능

---

## 👥 기여

버그 리포트 및 기능 요청은 GitHub Issues에서 받습니다.

---

**마지막 업데이트**: 2026년 1월 28일  
**버전**: 2.0.0 (완벽 구현 버전)
